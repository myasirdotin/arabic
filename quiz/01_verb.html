<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arabic Grammar Quiz - Verbs & Nouns</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #2c5282;
      --secondary: #ed8936;
      --success: #48bb78;
      --danger: #f56565;
      --light: #edf2f7;
      --dark: #2d3748;
      --font-main: 'Amiri', serif;
      --shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    *, *::before, *::after { box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #e2e8f0 0%, #edf2f7 100%);
      font-family: var(--font-main);
      color: var(--dark);
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }

    .container {
      max-width: 700px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .quiz-box {
      background: white;
      padding: 40px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      font-size: 2em;
      color: var(--primary);
      text-align: center;
      margin-bottom: 30px;
      font-weight: 700;
    }

    label {
      display: block;
      margin-bottom: 10px;
      font-weight: 700;
      font-size: 1.2em;
    }

    input, select {
      width: 100%;
      padding: 12px;
      font-size: 1.1em;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      margin-bottom: 20px;
      transition: border-color 0.3s;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--primary);
    }

    .quiz-controls {
      display: flex;
      gap: 15px;
      margin-bottom: 25px;
    }

    .quiz-controls button {
      flex: 1;
      padding: 14px;
      font-size: 1.1em;
      background: var(--primary);
      border: none;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }

    .quiz-controls button:hover {
      background: #2b6cb0;
      transform: translateY(-2px);
    }

    .quiz-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }

    .quiz-options button {
      padding: 14px;
      font-size: 1.1em;
      background: var(--secondary);
      border: none;
      color: var(--dark);
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s, background 0.3s;
    }

    .quiz-options button:hover {
      transform: scale(1.05);
      background: #dd6b20;
    }

    button.correct {
      background: var(--success) !important;
      color: white !important;
      transform: scale(1.1);
    }

    button.incorrect {
      background: var(--danger) !important;
      color: white !important;
      transform: scale(0.95);
    }

    .hint {
      margin-top: 15px;
      font-style: italic;
      color: var(--dark);
      font-size: 1em;
    }

    .summary {
      background: var(--light);
      padding: 25px;
      border-left: 6px solid var(--primary);
      border-radius: 8px;
      font-size: 1.1em;
      margin-top: 25px;
      animation: slideIn 0.5s ease-in;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e2e8f0;
      border-radius: 5px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      background: var(--success);
      width: 0;
      transition: width 0.5s ease-in-out;
    }

    .score {
      text-align: center;
      font-size: 1.2em;
      color: var(--primary);
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <section class="quiz-box" aria-labelledby="quiz-title">
      <h2 id="quiz-title">üéì Quick Quiz: Analyze the Word</h2>
      <label for="user-name">Your Name:</label>
      <input type="text" id="user-name" placeholder="Enter your name" />
      <label for="word-select">Select a Word:</label>
      <select id="word-select"><option value="" disabled selected>-- Select a word --</option></select>

      <div class="score" id="score">Score: 0</div>
      <div class="progress-bar"><div class="progress" id="progress"></div></div>

      <div class="quiz-controls">
        <button id="check-btn">Start Quiz</button>
        <button id="reset-btn">Reset Quiz</button>
      </div>

      <p id="word-meaning" class="hint"></p>

      <div id="stepType" hidden>
        <p>‚û°Ô∏è Is it a noun or a verb?</p>
        <div class="quiz-options" id="type-options">
          <button data-ans-type="Verb">Verb</button>
          <button data-ans-type="Noun">Noun</button>
        </div>
        <p id="type-hint" class="hint"></p>
      </div>

      <div id="step2" hidden>
        <p id="word-type-result"></p>
        <p>‚û°Ô∏è What is the gender?</p>
        <div class="quiz-options" id="gender-options">
          <button data-gender="Masculine">Masculine</button>
          <button data-gender="Feminine">Feminine</button>
        </div>
        <p id="gender-hint" class="hint"></p>
      </div>

      <div id="step3" hidden>
        <p>‚û°Ô∏è What is the number?</p>
        <div class="quiz-options" id="number-options">
          <button data-number="Singular">Singular</button>
          <button data-number="Dual">Dual</button>
          <button data-number="Plural">Plural</button>
        </div>
        <p id="number-hint" class="hint"></p>
      </div>

      <div id="final-result" hidden>
        <h3>üßæ Summary:</h3>
        <div id="summary-text" class="summary"></div>
        <p id="final-msg" class="hint"></p>
      </div>
    </section>
  </div>

  <script>
    const verbs = ["ŸÉŸéÿ™Ÿéÿ®Ÿé","ŸÇŸéÿ±Ÿéÿ£Ÿé","ÿ∞ŸéŸáŸéÿ®Ÿé","ÿ¨Ÿéÿßÿ°Ÿé","ÿπŸéŸÖŸêŸÑŸé","ÿØŸéÿ±Ÿéÿ≥Ÿé","ŸÅŸéŸáŸêŸÖŸé","ÿ¥ŸéÿßŸáŸéÿØŸé","ŸÜŸéÿ∏Ÿéÿ±Ÿé","ÿ£ŸéÿÆŸíÿ®Ÿéÿ±Ÿé","ÿ≥ŸéŸÖŸêÿπŸé","ÿ£ŸéŸÉŸéŸÑŸé","ÿ¥Ÿéÿ±Ÿêÿ®Ÿé","ÿ¨ŸéŸÑŸéÿ≥Ÿé","ŸÇŸéÿßŸÖŸé","ÿ±ŸéŸÉŸêÿ∂Ÿé","ÿ≥Ÿéÿ®Ÿéÿ≠Ÿé","ŸÜŸéÿßŸÖŸé","ÿßÿ≥Ÿíÿ™ŸéŸäŸíŸÇŸéÿ∏Ÿé","ÿ™Ÿéÿ≠ŸéÿØŸëŸéÿ´Ÿé","ÿßÿ≥Ÿíÿ™ŸéŸÖŸéÿπŸé","ÿßÿ¥Ÿíÿ™Ÿéÿ±ŸéŸâ","ÿ®ŸéÿßÿπŸé","ŸÅŸéÿ™Ÿéÿ≠Ÿé","ÿ£Ÿéÿ∫ŸíŸÑŸéŸÇŸé","ŸÇŸéÿßŸÑŸé","ÿ≥Ÿéÿ£ŸéŸÑŸé","ÿ£Ÿéÿ¨Ÿéÿßÿ®Ÿé","ÿ≥ŸéÿßŸÅŸéÿ±Ÿé","ÿ±Ÿéÿ¨ŸéÿπŸé","ÿ∂Ÿéÿ≠ŸêŸÉŸé","ÿ®ŸéŸÉŸéŸâ","ÿ∫Ÿéÿ≥ŸéŸÑŸé","ŸÑŸéÿ®Ÿêÿ≥Ÿé","ÿ±ŸéŸÇŸéÿµŸé","ÿ∫ŸéŸÜŸëŸéŸâ","ÿ±Ÿéÿ≥ŸéŸÖŸé","ŸÇŸéÿ™ŸéŸÑŸé","ÿ®ŸéŸÜŸéŸâ","ÿ™ŸéŸÇŸéÿ±ŸëŸéÿ±Ÿé","ÿ≠ŸéŸÉŸéŸâ","ÿ®Ÿéÿ≠Ÿéÿ´Ÿé","ŸàŸéÿ¨ŸéÿØŸé","ŸÅŸéŸÇŸéÿØŸé","ÿπŸéÿ±ŸéŸÅŸé","ŸÜŸéÿ≥ŸêŸäŸé","ÿ±ŸéŸÉŸêÿ®Ÿé","ÿµŸéÿ≠Ÿéÿß"];
    const nouns = ["ŸÉŸêÿ™Ÿéÿßÿ®Ÿå","ŸÖŸéÿØŸíÿ±Ÿéÿ≥Ÿéÿ©Ÿå","ÿ®ŸéŸäŸíÿ™Ÿå","ÿ≥ŸéŸäŸëŸéÿßÿ±Ÿéÿ©Ÿå","ŸÇŸêÿ∑ŸëŸéÿ©Ÿå","ŸÉŸéŸÑŸíÿ®Ÿå","ÿ®Ÿéÿßÿ®Ÿå","ŸÜŸéÿßŸÅŸêÿ∞Ÿéÿ©Ÿå","ŸáŸéÿßÿ™ŸêŸÅŸå","ŸÇŸéŸÑŸéŸÖŸå","ŸÖŸéŸÜŸíÿ≤ŸêŸÑŸå","ÿ∑ŸéÿßŸàŸêŸÑŸéÿ©Ÿå","ŸÉŸèÿ±Ÿíÿ≥ŸêŸäŸëŸå","ÿ∫Ÿèÿ±ŸíŸÅŸéÿ©Ÿå","ÿ¥Ÿéÿ¨Ÿéÿ±Ÿéÿ©Ÿå","ÿ®Ÿéÿ≠Ÿíÿ±Ÿå","ÿ≥ŸéŸÖŸéÿßÿ°Ÿå","ÿ£Ÿéÿ±Ÿíÿ∂Ÿå","ŸàŸéŸÇŸíÿ™Ÿå","ŸäŸéŸàŸíŸÖŸå","ŸÑŸéŸäŸíŸÑŸéÿ©Ÿå","ÿ£Ÿèÿ≥Ÿíÿ®ŸèŸàÿπŸå","ÿ¥ŸéŸáŸíÿ±Ÿå","ÿ≥ŸéŸÜŸéÿ©Ÿå","ŸÖŸéÿßÿ°Ÿå","ÿ∑ŸéÿπŸéÿßŸÖŸå","ÿ≥ŸéÿßÿπŸéÿ©Ÿå","ÿ≠Ÿéÿßÿ≥ŸèŸàÿ®Ÿå","ÿ™ŸêŸÑŸíŸÅŸéÿßÿ≤Ÿå","ÿµŸèŸàÿ±Ÿéÿ©Ÿå","ÿ¥Ÿéÿßÿ±ŸêÿπŸå","ÿ≥ŸèŸàŸÇŸå","ÿπŸéŸÖŸéŸÑŸå","ÿ¨ŸéÿßŸÖŸêÿπŸéÿ©Ÿå","ŸÇŸêÿµŸëŸéÿ©Ÿå","ÿ±Ÿêÿ≥ŸéÿßŸÑŸéÿ©Ÿå","ŸÉŸéŸàŸíŸÉŸéÿ®Ÿå","ÿ≠ŸéŸäŸéÿßÿ©Ÿå","ÿπŸéÿßŸÑŸéŸÖŸå","ŸÇŸéŸÑŸíÿ®Ÿå","ÿ±Ÿéÿ£ÿ≥Ÿå","ŸäŸéÿØŸå","ŸÇŸéÿØŸéŸÖŸå","ÿπŸéŸäŸíŸÜŸå","ÿ£Ÿèÿ∞ŸèŸÜŸå","ŸÅŸéŸÖŸå","ŸàŸéÿ¨ŸíÿπŸå","ÿ≠Ÿêÿ∞Ÿéÿßÿ°Ÿå","ÿ™ŸèŸÅŸëŸéÿßÿ≠Ÿéÿ©Ÿå","ŸÖŸêŸÅŸíÿ™Ÿéÿßÿ≠Ÿå","ÿ≥ŸêŸÉŸëŸêŸäŸÜŸå","ÿ≤ŸéŸáŸíÿ±Ÿéÿ©Ÿå"];
    const meanings = [
      "he wrote","he read","he went","he came","he worked","he studied","he understood","he watched","he looked","he informed",
      "he heard","he ate","he drank","he sat","he stood","he ran","he swam","he slept","he woke up","he spoke",
      "he listened","he bought","he sold","he opened","he closed","he said","he asked","he answered","he traveled","he returned",
      "he laughed","he cried","he washed","he dressed","he danced","he sang","he drew","he killed","he built","it was decided",
      "he told","he searched","he found","he lost","he knew","he forgot","he rode","he woke up again"
    ];

    const explainVerb = {
      type: 'Verbs express actions; past verbs often end with a fat·∏•a.',
      gender: 'Verbs agree with subject gender: feminine past verbs add ÿ™Ÿí.',
      number: 'Verbs agree with subject number: dual adds ÿ™ŸéŸÖÿß, plural adds Ÿàÿß/ŸÉŸÜ.'
    };

    const explainNoun = {
      type: 'Nouns name people, places, things, or concepts.',
      gender: 'Feminine nouns often end with ÿ©; others are masculine.',
      number: 'Singular stands alone; dual adds ÿßŸÜ; plurals use sound/broken patterns.'
    };

    const wordData = [
      ...verbs.map((w, i) => ({
        word: w,
        meaning: meanings[i],
        type: 'Verb',
        tense: 'Past',
        gender: 'Masculine',
        number: 'Singular',
        explain: explainVerb
      })),
      ...nouns.map(n => ({
        word: n,
        meaning: `"${n}"`,
        type: 'Noun',
        gender: n.includes('ÿ©') ? 'Feminine' : 'Masculine',
        number: 'Singular',
        explain: explainNoun
      }))
    ];

    document.addEventListener('DOMContentLoaded', () => {
      const nameInput = document.getElementById('user-name');
      const wordSelect = document.getElementById('word-select');
      const checkBtn = document.getElementById('check-btn');
      const resetBtn = document.getElementById('reset-btn');
      const wordMeaning = document.getElementById('word-meaning');
      const stepType = document.getElementById('stepType');
      const typeOptions = document.getElementById('type-options');
      const typeHint = document.getElementById('type-hint');
      const step2 = document.getElementById('step2');
      const genderOptions = document.getElementById('gender-options');
      const genderHint = document.getElementById('gender-hint');
      const step3 = document.getElementById('step3');
      const numberOptions = document.getElementById('number-options');
      const numberHint = document.getElementById('number-hint');
      const finalResult = document.getElementById('final-result');
      const summaryText = document.getElementById('summary-text');
      const finalMsg = document.getElementById('final-msg');
      const scoreDisplay = document.getElementById('score');
      const progressBar = document.getElementById('progress');

      // Randomize word selection
      const shuffledWords = wordData.sort(() => Math.random() - 0.5).slice(0, 10);
      shuffledWords.forEach(item => wordSelect.add(new Option(item.word, item.word)));

      let state = {};
      let score = 0;
      let currentStep = 0;
      const totalSteps = 3;

      const updateProgress = () => {
        const progress = (currentStep / totalSteps) * 100;
        progressBar.style.width = `${progress}%`;
      };

      const updateScore = (points) => {
        score += points;
        scoreDisplay.textContent = `Score: ${score}`;
      };

      resetBtn.addEventListener('click', () => location.reload());

      checkBtn.addEventListener('click', () => {
        if (!nameInput.value.trim()) return alert('Please enter your name.');
        const sel = wordSelect.value;
        const info = wordData.find(i => i.word === sel);
        if (!info) return alert('‚ö†Ô∏è Please select a word.');
        state = { ...info, user: nameInput.value.trim() };
        wordMeaning.textContent = `Meaning: ${info.meaning}`;
        stepType.hidden = false;
        step2.hidden = step3.hidden = finalResult.hidden = true;
        typeHint.textContent = '';
        currentStep = 1;
        updateProgress();
        typeOptions.querySelectorAll('button').forEach(b => b.className = '');
      });

      typeOptions.addEventListener('click', e => {
        if (!e.target.dataset.ansType) return;
        const choice = e.target.dataset.ansType;
        const correct = state.type;
        e.target.classList.add(choice === correct ? 'correct' : 'incorrect');
        typeHint.textContent = choice === correct
          ? '‚úÖ Correct!'
          : `‚ö†Ô∏è Incorrect! ${state.explain.type} Suggestion: review word categories.`;
        if (choice === correct) updateScore(10);
        typeOptions.querySelectorAll('button').forEach(b => b.disabled = true);
        typeOptions.querySelector(`[data-ans-type="${correct}"]`).classList.add('correct');
        setTimeout(() => {
          step2.hidden = false;
          currentStep = 2;
          updateProgress();
        }, 800);
      });

      genderOptions.addEventListener('click', e => {
        if (!e.target.dataset.gender) return;
        const choice = e.target.dataset.gender;
        const correct = state.gender;
        e.target.classList.add(choice === correct ? 'correct' : 'incorrect');
        genderHint.textContent = choice === correct
          ? '‚úÖ Correct!'
          : `‚ö†Ô∏è Incorrect! ${state.explain.gender} Suggestion: review gender markers.`;
        if (choice === correct) updateScore(10);
        genderOptions.querySelectorAll('button').forEach(b => b.disabled = true);
        genderOptions.querySelector(`[data-gender="${correct}"]`).classList.add('correct');
        setTimeout(() => {
          step3.hidden = false;
          currentStep = 3;
          updateProgress();
        }, 800);
      });

      numberOptions.addEventListener('click', e => {
        if (!e.target.dataset.number) return;
        const choice = e.target.dataset.number;
        const correct = state.number;
        e.target.classList.add(choice === correct ? 'correct' : 'incorrect');
        numberHint.textContent = choice === correct
          ? '‚úÖ Correct!'
          : `‚ö†Ô∏è Incorrect! ${state.explain.number} Suggestion: review number forms.`;
        if (choice === correct) updateScore(10);
        numberOptions.querySelectorAll('button').forEach(b => b.disabled = true);
        numberOptions.querySelector(`[data-number="${correct}"]`).classList.add('correct');
        setTimeout(() => {
          summaryText.innerHTML = `
            <ul>
              <li>Word: ${state.word}</li>
              <li>Meaning: ${state.meaning}</li>
              <li>Type: ${state.type}${state.tense ? ` (${state.tense})` : ''}</li>
              <li>Gender: ${state.gender}</li>
              <li>Number: ${state.number}</li>
            </ul>`;
          finalMsg.textContent = `Great job, ${state.user}! You completed the quiz with a score of ${score}.`;
          finalResult.hidden = false;
        }, 800);
      });
    });
  </script>
</body>
</html>